<!-- Trainings Component Template -->

<!-- Header -->
<header class="header" >
  <div class="container">
    <div class="logo">
      <!-- Correct the image path if necessary -->
      <!-- <img src="C:\UpSkills\magicSkills\src\assets\MagicBusLogo.png" alt="MagicBus Logo" class="logo-img"> -->

      <h1>MagicBus Skills</h1>
    </div>
  </div>
</header>

<!-- Navbar -->
<!-- Navbar -->
<nav class="navbar" role="navigation" aria-label="Main navigation">
  <div class="container">
    <ul class="nav-list">
      <li class="nav-item">
        <a [routerLink]="['/']" routerLinkActive="active" aria-current="page" class="nav-link">Home</a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['/skills-ratings']" routerLinkActive="active" class="nav-link">Skill Rating</a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['/contact']" routerLinkActive="active" class="nav-link">Contact</a>
      </li>
    </ul>
  </div>
</nav>


<!-- Main Content -->
<main class="main-content">
  <!-- Profile Section -->
  <section class="profile-section" aria-labelledby="profile-heading">
    <div class="container">
      <div class="profile-card">
        <h2 id="profile-heading">{{ profile.name }}</h2>
        <p><strong>Role:</strong> {{ profile.role }}</p>
        <p>{{ profile.bio }}</p>
      </div>
    </div>
  </section>

  <!-- Learning Modules -->
  <section class="modules-section" aria-labelledby="modules-heading">
    <div class="container">
      <h2 id="modules-heading">Learning Modules</h2>
      <div class="module-grid">
<div class="module-card" *ngFor="let module of modules; trackBy: trackByModuleId" tabindex="0" role="button" aria-label="Module: {{ module.name }}, Progress: {{ module.progress }}%" style="margin-top: 40px;" (click)="onModuleClick(module)" (keydown.enter)="onModuleClick(module)">
          <h3>{{ module.name }}</h3>
          <p>Progress: <span class="progress-text">{{ module.progress }}%</span></p>
          <div class="progress-bar-container">
            <div class="progress-bar" [style.width]="getProgressBarWidth(module.progress)"></div>
          </div>
          <!-- Engagement Status Badge -->
          <div class="engagement-badge" [ngClass]="{'engaged': isContinuouslyEngaged(module)}">
            <span class="engagement-text">{{ getEngagementStatus(module) }}</span>
          </div>
          <!-- Last Accessed Info -->
          <p class="last-accessed" *ngIf="module.lastAccessedDate">Last accessed: {{ module.lastAccessedDate }}</p>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <p>&copy; 2026 My Training Portal. All rights reserved.</p>
  </div>
</footer>
