<!-- Header -->
<header class="header">
  <div class="container">
    <div class="logo">
      <h1>MagicBus Skills</h1>
    </div>
  </div>
</header>

<!-- Navbar -->
<nav class="navbar" role="navigation" aria-label="Main navigation">
  <div class="container">
    <ul class="nav-list">
      <li class="nav-item">
        <a [routerLink]="['/']" routerLinkActive="active" aria-current="page" class="nav-link">Home</a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['/courses']" routerLinkActive="active" class="nav-link">Courses</a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['/contact']" routerLinkActive="active" class="nav-link">Contact</a>
      </li>
    </ul>
  </div>
</nav>

<!-- Main Content -->
<main class="main-content">
  <!-- Profile Section -->
  <section class="profile-section" aria-labelledby="profile-heading">
    <div class="container">
      <div class="profile-card">
        <h2 id="profile-heading">{{ profile.name }}</h2>
        <p><strong>Role:</strong> {{ profile.role }}</p>
        <p>{{ profile.bio }}</p>
      </div>
    </div>
  </section>

  <!-- Lesson Content Section -->
  <section class="modules-section" aria-labelledby="lesson-heading" *ngIf="lesson">
    <div class="container">
      <h2 id="lesson-heading">{{ lesson.name }}</h2>
      <p><strong>Progress:</strong> <span class="progress-text">{{ lesson.progress }}%</span></p>
      <div class="progress-bar-container">
        <div class="progress-bar" [style.width]="getProgressBarWidth(lesson.progress)"></div>
      </div>

      <!-- Horizontal Cards for Contents -->
      <div class="module-grid">
        <div class="module-card content-card" *ngFor="let content of lesson.content" (click)="onContentClick(content)" (keydown.enter)="onContentClick(content)" tabindex="0" role="button" aria-label="Content: {{ content.title }}">
          <h3>{{ content.title }}</h3>
          <p>{{ content.text }}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="modules-section" *ngIf="!lesson">
    <div class="container">
      <p>Lesson not found. Redirecting...</p>
    </div>
  </section>
</main>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <p>&copy; 2026 My Training Portal. All rights reserved.</p>
  </div>
</footer>